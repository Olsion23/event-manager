{% extends 'events/base.html' %} {% block content %}
<div class="container mt-4">
  <div class="card shadow-sm">
    <div class="card-body">
      <h2 class="card-title mb-3">{{ event.title }}</h2>

      <p class="card-text text-muted">{{ event.description }}</p>

      <p class="mb-3">
        <i class="bi bi-calendar-event"></i>
        <strong>Date:</strong> {{ event.date }} at {{ event.time }}
      </p>
      <p class="mb-2">
        <i class="bi bi-person"></i>
        <strong>Created by:</strong> {{ event.created_by.username }}
      </p>

      <div class="mb-3 d-flex gap-2">
        {% if user.is_authenticated and event.created_by == user %}
        <a
          href="{% url 'edit_event' event.id %}"
          class="btn btn-info text-white"
          >✏️ Edit Event</a
        >

        <a href="{% url 'delete_event' event.id %}" class="btn btn-danger"
          >🗑️ Delete Event</a
        >

        {% elif is_registered and not is_owner %}
        <form method="POST" action="{% url 'leave_event' event.id %}">
          {% csrf_token %}
          <button type="submit" class="btn btn-warning text-white">
            Leave Event
          </button>
        </form>
        {% elif not is_registered and not is_owner%}
        <form method="POST" action="{% url 'register_event' event.id %}">
          {% csrf_token %}
          <button type="submit" class="btn btn-success">
            ✅ Register to this Event
          </button>
        </form>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
